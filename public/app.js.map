{"version":3,"sources":["app/BackgroundLayer.js","app/ForegroundLayer.js","app/GraphicLayer.js","app/MainPanel.js","app/app.js","app/init.js","app/palette.js","app/util.js","app/watson-colors.js"],"names":["basicLightbox","panel","swatchPickers","selectedSwatchGroup","documentData","handleChange","console","log","createLayer","getSwatchGroupNames","addNumber","workspaceSize","x","y","formatWidthHeightInputs","swatchGroupNames","addCustomTitle","addDropDown","onSelectSwatchGroup","bind","hideTitle","each","swatchGroupName","swatchPicker","createSwatchPicker","getSwatchesFor","onSelectSwatch","addElement","hideControl","showControl","addSwatchHighlightByIndex","selectedSwatchElem","children","addFileChooser","onChooseImage","lightbox","create","beforeShow","instance","background","backgroundImage","classList","contains","element","querySelector","id","add","onclick","close","selected","querySelectorAll","length","sourceImg","selectedBgImage","useColorOnly","thumbs","forEach","thumb","e","target","currentSelection","remove","lightboxButton","createButton","show","inputsArr","document","getElementsByClassName","widthElem","heightElem","fileObj","info","selection","value","removeSwatchHighlight","swatch","elem","addSwatchHighlight","backgroundColor","color","addRange","foreground","foregroundImageSize","scale","resizeImage","foregroundImage","imageSize","selectedLayer","changeImageRotation","backgroundGraphic","backgroundGraphicOpacity","foregroundGraphic","foregroundGraphicOpacity","changeImageOpacity","backgroundGraphicImage","foregroundGraphicImage","selectedGraphicImage","backgroundGraphicImagePosition","drawBgGraphic","backgroundGraphicImageSize","width","height","foregroundGraphicImagePosition","drawFgGraphic","foregroundGraphicImageSize","backgroundGraphicRotation","foregroundGraphicRotation","rootElem","updateCanvas","handleChooseBackgroundImage","fileObject","init","addCommonInputs","addLayers","parent","getElementById","layers","layer","index","el","createElement","className","append","setLayerImg","layerElems","item","onSelectLayer","handleSelectLayer","newLayer","updatePanel","newPanelType","layersImgContainer","addLayerSpecificInputs","addDownloadButton","addButton","startDownload","panelInputs","i","App","canvasElem","hiResCanvasElem","svgElem","fileBaseName","canMouseX","canMouseY","backgroundImageSize","Image","backgroundImageFile","foregroundImagePosition","foregroundImageFile","canvasOffset","canvasContext","hiResContext","hiResScale","isDragging","getContext","setAttribute","appendChild","useExtStyleSheet","fitCanvasToWindow","addEventListener","handleMouseDown","handleMouseUp","handleMouseMove","handleMouseOut","refreshCanvas","clientWidth","clientHeight","fitBackgroundToCanvas","imgWidth","imgHeight","canvasWidth","canvasHeight","finalWidth","finalHeight","fillStyle","fillRect","changeColor","drawBackground","canvas","context","resolution","drawBgPromise","Promise","resolve","reject","Object","assign","drawImage","name","reader","FileReader","img","docData","onload","event","result","src","readAsDataURL","then","drawBackgroundGraphic","drawForeground","drawFgPromise","drawForegroundGraphic","backgroundGraphicWidth","backgroundGraphicHeight","save","globalAlpha","translate","rotate","convertToRadians","restore","foregroundGraphicWidth","foregroundGraphicHeight","clientX","clientY","startingPosition","deltaX","deltaY","toDataURL","Date","now","degree","a","radianValue","Math","PI","didInit","_swatchCollection","getDefaultSwatchGroup","getSwatchGroupByName","getDefaultColor","defaultGroupName","groupName","find","swatchGroup","map","sort","getSwatchNamesFor","swatches","getSwatchValue","swatchName","action","button","innerText","createButtonGroup","buttonElems","groupDiv","setButtonEnabled","buttonElem","enabled","removeAttribute","clickHandler","container","swatchElem","swatchpicker","qsPanel","title","refName","div"],"mappings":"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","file":"public/app.js","sourcesContent":["import _ from 'lodash';\nimport QuickSettings from 'quicksettings';\nimport * as basicLightbox from 'basiclightbox';\n\nimport qsUtil from './util';\nimport Palette from './palette';\n\nexport default {\n  panel: null,\n  swatchPickers : {},\n  selectedSwatchGroup: null,\n  documentData: null,\n\n  handleChange : function() {console.log(\"changed document - background\")},\n\n  createLayer(panel, documentData) {\n    this.panel = panel;\n    this.documentData = documentData;\n    this.selectedSwatchGroup = Palette.getSwatchGroupNames()[0];\n\n    panel.addNumber('Width', 0, documentData !== null ? documentData.workspaceSize.x : 5000, documentData.workspaceSize.x );\n    panel.addNumber('Height', 0, documentData !== null ? documentData.workspaceSize.x : 2000, documentData.workspaceSize.y);\n    this.formatWidthHeightInputs();\n\n    var swatchGroupNames = Palette.getSwatchGroupNames();\n    qsUtil.addCustomTitle(panel, \"Choose Color Group\", \"Color Group_Title\")\n    panel.addDropDown(\"Color Group\", swatchGroupNames, this.onSelectSwatchGroup.bind(this));\n    panel.hideTitle(\"Color Group\");\n\n    _.each(swatchGroupNames, function(swatchGroupName) {\n      var swatchPicker = qsUtil.createSwatchPicker(\n      Palette.getSwatchesFor(swatchGroupName),\n      this.onSelectSwatch.bind(this)\n    );\n    this.swatchPickers[swatchGroupName] = swatchPicker;\n      panel.addElement(swatchGroupName, swatchPicker);\n\n      panel.hideTitle(swatchGroupName);\n      panel.hideControl(swatchGroupName);\n    }.bind(this));\n\n    panel.showControl(swatchGroupNames[0]);\n    qsUtil.addSwatchHighlightByIndex(this.swatchPickers[swatchGroupNames[0]],0);\n    this.selectedSwatchElem = this.swatchPickers[swatchGroupNames[0]].children[0];\n\n    panel.addFileChooser('Background Image', '', 'image/*', this.onChooseImage.bind(this));\n    \n    var lightbox = basicLightbox.create(`\n      <div class=\"modal\">\n        <div class=\"lightbox-container clearfix\">\n          <div class=\"background image-thumb\" id=\"bg1\"></div>\n          <div class=\"background image-thumb\" id=\"bg2\"></div>\n          <div class=\"img-sources\">\n            <img src=\"img/background_1.jpg\" id=\"bg1-source\" class=\"img-source\" />\n            <img src=\"img/background_2.jpg\" id=\"bg2-source\" class=\"img-source\" />\n          </div>\n        </div>\n        <a class=\"close-button\">x</a>\n        <button class=\"qs_button secondary\">Select Image</button>\n      </div>`, {\n        beforeShow: (instance) => {\n          if (this.documentData.background.backgroundImage.classList && \n            this.documentData.background.backgroundImage.classList.contains('img-source')) {\n            instance.element().querySelector(`#${this.documentData.background.backgroundImage.id}`).classList.add('selected');\n          }\n\n          instance.element().querySelector('a').onclick = instance.close;\n          instance.element().querySelector('button').onclick = () => {\n            // set selected if image is selected\n            // see this.onChooseImage\n            var selected = instance.element().querySelectorAll('.selected');\n            if (selected.length > 0) {\n              var sourceImg = `#${selected[0].id}-source`;\n              var selectedBgImage = instance.element().querySelector(sourceImg);\n              this.documentData.background.backgroundImage = selectedBgImage;\n              this.documentData.background.useColorOnly = false;\n              instance.close();\n              this.handleChange();\n            }\n          }\n          var thumbs = instance.element().querySelectorAll('.image-thumb');\n          _.forEach(thumbs, (thumb) => {\n            thumb.onclick = (e) => {\n              // if not already selected, add to clicked\n              if (!e.target.classList.contains('selected')) {\n                var currentSelection = instance.element().querySelectorAll('.selected');\n                if (currentSelection.length > 0) {\n                  // remove from others\n                  currentSelection[0].classList.remove('selected');\n                }\n                e.target.classList.add('selected');\n              } else {\n                e.target.classList.remove('selected');\n              }\n            }\n          });\n          \n        }\n      });\n    \n    var lightboxButton = qsUtil.createButton(\"Open\", \"secondary\", lightbox.show.bind(this));\n    panel.addElement('Or choose from library:', lightboxButton)\n\n\n  },\n  formatWidthHeightInputs() {\n    var inputsArr = document.getElementsByClassName('qs_container');\n    var widthElem = inputsArr[2];\n    var heightElem = inputsArr[3];\n    widthElem.id = 'width';\n    widthElem.classList += \" half-width\";\n    heightElem.id = 'height';\n    heightElem.classList += \" half-width\";\n  },\n  onChooseImage(fileObj) {\n    // var fileURL = URL.createObjectURL(fileObj);\n    // this.documentData.background.backgroundImage.src = fileURL; \n    console.log(this.documentData.background, fileObj);\n    this.documentData.background.backgroundImage = fileObj;\n    this.documentData.background.useColorOnly = false;\n    this.handleChange();\n  },\n  onSelectSwatchGroup(info) {\n\t\t// there's currently no way to edit dropdown contents at runtime\n\t\t// (without digging into private properties of the panel),\n    // so we're just hiding & showing specific controls\n    console.log(info, this.selectedSwatchGroup)\n    var selection = info.value;\n\t\tthis.panel.hideControl(this.selectedSwatchGroup);\n\t\tthis.panel.showControl(selection);\n\n\t\tthis.selectedSwatchGroup = selection;\n\t\tif (this.selectedSwatchElem) {\n\t\t\tqsUtil.removeSwatchHighlight(this.selectedSwatchElem);\n\t\t}\n\t\tqsUtil.addSwatchHighlightByIndex(this.swatchPickers[selection], 0);\n\t\tthis.selectedSwatchElem = this.swatchPickers[selection].children[0];\n\n\t\tthis.handleChange();\n\t},\n\tonSelectSwatch(swatch, elem) {\n\t\tif (this.selectedSwatchElem) {\n\t\t\tqsUtil.removeSwatchHighlight(this.selectedSwatchElem);\n\t\t}\n\t\tqsUtil.addSwatchHighlight(elem);\n    this.selectedSwatchElem = elem;\n    this.documentData.background.backgroundColor = swatch.color;\n    this.documentData.background.useColorOnly = true;\n    this.handleChange();\n  },\n}\n","import _ from 'lodash';\nimport QuickSettings from 'quicksettings';\nimport * as basicLightbox from 'basiclightbox';\n\nimport qsUtil from './util';\n\nexport default {\n  panel: null,\n  documentData: null,\n\n  handleChange : function() {console.log(\"changed document - foreground\")},\n\n  createLayer(panel, documentData) {\n    console.log(panel, documentData)    \n\n    this.panel = panel;\n    this.documentData = documentData;\n\n    panel.addRange('Size', 0, 200, this.documentData.foreground.foregroundImageSize.scale, 1, this.resizeImage.bind(this));\n    // document.getElementById('Size').addEventListener('mouseup', console.log('final'));\n\n    panel.addFileChooser('Foreground Image', '', 'image/*', this.onChooseImage.bind(this));\n\n    var lightbox = basicLightbox.create(`\n      <div class=\"modal\">\n        <div class=\"lightbox-container clearfix\">\n          <div class=\"foreground image-thumb\" id=\"fg1\"></div>\n          <div class=\"foreground image-thumb\" id=\"fg2\"></div>\n          <img src=\"img/foreground_1.png\" id=\"fg1-source\" class=\"img-source-fg\" />\n          <img src=\"img/foreground_2.png\" id=\"fg2-source\" class=\"img-source-fg\" />\n        </div>\n        <a class=\"close-button\">x</a>\n        <button class=\"qs_button secondary\">Select Image</button>\n      </div>`, {\n        beforeShow: (instance) => {\n          // if (this.documentData.background.backgroundImage.classList && \n          //   this.documentData.background.backgroundImage.classList.contains('img-source')) {\n          //   instance.element().querySelector(`#${this.documentData.background.backgroundImage.id}`).classList.add('selected');\n          // }\n          instance.element().querySelector('a').onclick = instance.close;\n          instance.element().querySelector('button').onclick = () => {\n            // set selected if image is selected\n            // see this.onChooseImage\n            var selected = instance.element().querySelectorAll('.selected');\n            if (selected.length > 0) {\n              var sourceImg = `#${selected[0].id}-source`;\n              var selectedBgImage = instance.element().querySelector(sourceImg);\n              this.documentData.foreground.foregroundImage = selectedBgImage;\n              this.documentData.foreground.foregroundImageSize.scale = 100;\n              this.imageSize = 100;\n              instance.close();\n              this.handleChange();\n            }\n          }\n          var thumbs = instance.element().querySelectorAll('.image-thumb');\n          _.forEach(thumbs, (thumb) => {\n            thumb.onclick = (e) => {\n              // if not already selected, add to clicked\n              if (!e.target.classList.contains('selected')) {\n                var currentSelection = instance.element().querySelectorAll('.selected');\n                if (currentSelection.length > 0) {\n                  // remove from others\n                  currentSelection[0].classList.remove('selected');\n                }\n                e.target.classList.add('selected');\n              } else {\n                e.target.classList.remove('selected');\n              }\n            }\n          });\n          \n        }\n      });\n    \n    var lightboxButton = qsUtil.createButton(\"Open\", \"secondary\", lightbox.show.bind(this));\n    panel.addElement('Or choose from library:', lightboxButton)\n  },\n  resizeImage(e) {\n    this.documentData.foreground.foregroundImageSize.scale = e;\n    console.log('resize to ', e);\n    this.handleChange();\n  },\n  onChooseImage(fileObj) {\n    this.documentData.foreground.foregroundImage = fileObj;\n    this.handleChange();\n  }\n}\n","import _ from 'lodash';\nimport QuickSettings from 'quicksettings';\nimport * as basicLightbox from 'basiclightbox';\n\nimport qsUtil from './util.js';\n\nexport default {\n  panel: null,\n  selectedLayer: null,\n  documentData: null,\n\n  handleChange : function() {console.log(\"changed document - \" + this.selectedLayer)},\n\n  createLayer(panel, documentData, selectedLayer) {\n    console.log(panel, documentData);\n    this.panel = panel;\n    this.documentData = documentData;\n    this.selectedLayer = selectedLayer;\n    \n    panel.addRange('Scale', 0, 200, 100, 1, this.resizeImage.bind(this));\n    panel.addRange('Rotation', 0, 360, 0, 15, this.changeImageRotation.bind(this));\n    panel.addRange('Opacity', 0, 100, (this.selectedLayer === 'bg-graphic' ? this.documentData.backgroundGraphic.backgroundGraphicOpacity * 100 : this.documentData.foregroundGraphic.foregroundGraphicOpacity * 100), 1, this.changeImageOpacity.bind(this));\n\n    var lightbox = basicLightbox.create(`\n      <div class=\"modal\">\n        <div class=\"lightbox-container clearfix\">\n          <div class=\"${this.selectedLayer} image-thumb\" id=\"graphic1\"></div>\n          <div class=\"${this.selectedLayer} image-thumb\" id=\"graphic2\"></div>\n          <div class=\"img-sources\">\n            <img src=\"img/graphic_1.png\" id=\"graphic1-source\" class=\"img-source-graphic\" />\n            <img src=\"img/graphic_2.png\" id=\"graphic2-source\" class=\"img-source-graphic\" />\n          </div>\n        </div>\n        <a class=\"close-button\">x</a>\n        <button class=\"qs_button secondary\">Select Image</button>\n      </div>`, {\n        beforeShow: (instance) => {\n          if (this.selectedLayer == 'bg-graphic') {\n            if (this.documentData.backgroundGraphic.backgroundGraphicImage.classList && \n              this.documentData.backgroundGraphic.backgroundGraphicImage.classList.contains('img-source-graphic')) {\n              instance.element().querySelector(`#${this.documentData.backgroundGraphic.backgroundGraphicImage.id}`).classList.add('selected');\n            }\n          } else if (this.selectedLayer == 'fg-graphic') {\n            if (this.documentData.foregroundGraphic.foregroundGraphicImage.classList && \n              this.documentData.foregroundGraphic.foregroundGraphicImage.classList.contains('img-source-graphic')) {\n              instance.element().querySelector(`#${this.documentData.foregroundGraphic.foregroundGraphicImage.id}`).classList.add('selected');\n            }\n          }\n\n          instance.element().querySelector('a').onclick = instance.close;\n          instance.element().querySelector('button').onclick = () => {\n            // set selected if image is selected\n            // see this.onChooseImage\n            var selected = instance.element().querySelectorAll('.selected');\n            if (selected.length > 0) {\n              var sourceImg = `#${selected[0].id}-source`;\n              var selectedGraphicImage = instance.element().querySelector(sourceImg);\n              if (this.selectedLayer === 'bg-graphic') {\n                this.documentData.backgroundGraphic.backgroundGraphicImagePosition = {x: 0, y: 0};\n                this.documentData.backgroundGraphic.backgroundGraphicImage = selectedGraphicImage;\n                this.documentData.backgroundGraphic.drawBgGraphic = true;\n                this.documentData.backgroundGraphic.backgroundGraphicImageSize = {\n                  x: this.documentData.backgroundGraphic.backgroundGraphicImage.width,\n                  y: this.documentData.backgroundGraphic.backgroundGraphicImage.height,\n                  scale: 100\n                };\n                this.handleChange();\n              } else if (this.selectedLayer === 'fg-graphic') {\n                this.documentData.foregroundGraphic.foregroundGraphicImagePosition = {x: 0, y: 0};\n                this.documentData.foregroundGraphic.foregroundGraphicImage = selectedGraphicImage;\n                this.documentData.foregroundGraphic.drawFgGraphic = true;\n                this.documentData.foregroundGraphic.foregroundGraphicImageSize = {\n                  x: this.documentData.foregroundGraphic.foregroundGraphicImage.width,\n                  y: this.documentData.foregroundGraphic.foregroundGraphicImage.height,\n                  scale: 100\n                };\n              }\n              \n              instance.close();\n              this.handleChange();\n            }\n          }\n          var thumbs = instance.element().querySelectorAll('.image-thumb');\n          _.forEach(thumbs, (thumb) => {\n            thumb.onclick = (e) => {\n              // if not already selected, add to clicked\n              if (!e.target.classList.contains('selected')) {\n                var currentSelection = instance.element().querySelectorAll('.selected');\n                if (currentSelection.length > 0) {\n                  // remove from others\n                  currentSelection[0].classList.remove('selected');\n                }\n                e.target.classList.add('selected');\n              } else {\n                e.target.classList.remove('selected');\n              }\n            }\n          });\n          \n        }\n      });\n    \n    var lightboxButton = qsUtil.createButton(\"Choose a graphic\", \"secondary\", lightbox.show.bind(this));\n    panel.addElement('', lightboxButton);\n  },\n  resizeImage(e) {\n    console.log(this.selectedLayer, '- resize to', e);\n    if (this.selectedLayer === 'bg-graphic') {\n      this.documentData.backgroundGraphic.backgroundGraphicImageSize.scale = e;\n    } else if (this.selectedLayer === 'fg-graphic') {\n      this.documentData.foregroundGraphic.foregroundGraphicImageSize.scale = e;\n    }\n    this.handleChange();\n  },\n  changeImageRotation(e) {\n    if (this.selectedLayer === 'bg-graphic') {\n      this.documentData.backgroundGraphic.backgroundGraphicRotation = e;\n    } else if (this.selectedLayer === 'fg-graphic') {\n      this.documentData.foregroundGraphic.foregroundGraphicRotation = e;\n    }\n    this.handleChange();\n  },\n  changeImageOpacity(e) {\n    if (this.selectedLayer === 'bg-graphic') {\n      this.documentData.backgroundGraphic.backgroundGraphicOpacity = e/100;\n    } else if (this.selectedLayer === 'fg-graphic') {\n      this.documentData.foregroundGraphic.foregroundGraphicOpacity = e/100;\n    }\n    this.handleChange();\n  },\n  onChooseImage() {\n    console.log(this.selectedLayer, 'choose graphic', this.documentData)\n  }\n}\n","import _ from 'lodash';\nimport QuickSettings from 'quicksettings';\n\nimport qsUtil from './util';\nimport Background from './BackgroundLayer';\nimport Foreground from './ForegroundLayer';\nimport Graphic from './GraphicLayer';\n\nexport default {\n  panel : null,\n  documentData : null,\n  selectedLayer: 'background',\n  rootElem: null,\n  \n  handleChange : function() {console.log(\"changed document\")},\n  updateCanvas: function() {console.log(\"changed layer\")},\n  handleChooseBackgroundImage : function(fileObject){console.log(\"selected background image\", fileObject)},\n\n\tinit(rootElem, documentData) {\n    var panel = QuickSettings.create(5, 5, 'Layer', rootElem);\n    this.panel = panel;\n    this.rootElem = rootElem;\n    this.documentData = documentData;\n    this.addCommonInputs(panel);\n  },\n  addLayers() {\n    var parent = document.getElementById('layers-img');\n    var layers = ['background', 'bg-graphic', 'foreground', 'fg-graphic'];\n    layers.forEach((layer, index) => {\n      var el = document.createElement(\"div\");\n      el.id = layer;\n      el.classList = 'layer';\n      if (index == 0) {\n        el.className += ' selected';\n      }\n      parent.append(el)\n    });\n  },\n  setLayerImg(layer) {\n    console.log('Set layer to', layer);\n    var layerElems = document.getElementsByClassName('layer');\n    _.forEach(layerElems, (item => {\n      item.classList = 'layer';\n    }))\n    document.getElementById(layer).classList += ' selected';\n  },\n  onSelectLayer(info) {\n    switch (info.value) {\n      case 'Background':\n        this.handleSelectLayer('background');\n        break;\n      case 'Background Graphic':\n        this.handleSelectLayer('bg-graphic');\n        break;\n      case 'Foreground':\n        this.handleSelectLayer('foreground');\n        break;\n      case 'Foreground Graphic':\n        this.handleSelectLayer('fg-graphic');\n        break;\n      default:\n        break;\n    }    \n  },\n  handleSelectLayer(newLayer){\n    this.selectedLayer = newLayer;\n    this.updatePanel(newLayer);\n    this.setLayerImg(newLayer);\n    this.updateCanvas(newLayer);\n  },\n  addCommonInputs(panel, newPanelType) {\n    var layersImgContainer = document.createElement(\"div\");\n\t\tlayersImgContainer.id = \"layers-img\";\n    panel.addElement('', layersImgContainer);\n    this.addLayers();\n\n    panel.addDropDown(\n      'Layer Select',\n      ['Background', 'Background Graphic', 'Foreground', 'Foreground Graphic'],\n      this.onSelectLayer.bind(this)\n    );\n\n    document.getElementsByClassName('qs_container')[0].id = 'layers-img-container';\n    document.getElementsByClassName('qs_container')[1].id = 'layers-select-dropdown';\n    console.log(this.documentData)\n    this.addLayerSpecificInputs(panel);\n  },\n  addLayerSpecificInputs(panel) {\n    switch (this.selectedLayer) {\n      case 'background':\n        Background.createLayer(panel, this.documentData);\n        break;\n      case 'bg-graphic':\n      case 'fg-graphic': \n        Graphic.createLayer(panel, this.documentData, this.selectedLayer);\n        break;\n      case 'foreground':\n        Foreground.createLayer(panel, this.documentData);\n        break;\n      default:\n        break;\n    }\n    // This is the fastest location to rebuild the download link last\n    this.addDownloadButton(panel);\n  },\n  addDownloadButton(panel) {\n    panel.addButton('Download', () => {\n      this.startDownload();\n    });\n  },\n  updatePanel(newPanelType) {\n    var panelInputs = document.getElementsByClassName('qs_container');\n\n    for (var i = panelInputs.length - 1; i > 0; i--) {\n      if (panelInputs[i].id !== 'layers-img-container' && panelInputs[i].id !== 'layers-select-dropdown') {\n        panelInputs[i].remove();\n      }\n    }\n    this.addLayerSpecificInputs(this.panel);\n  },\n}\n","import QuickSettings from 'quicksettings';\nimport _ from 'lodash';\nimport download from 'downloadjs';\n\nimport MainPanel from './MainPanel';\nimport Background from './BackgroundLayer';\nimport Foreground from './ForegroundLayer';\nimport Graphic from './GraphicLayer';\n\nvar App = {\n  // elems\n\trootElem : null,\n\tcanvasElem : null,\n  hiResCanvasElem : null,\n  svgElem : null,\n\tfileBaseName : 'download_L2_',\n\n  // document data\n\tdocumentData : {\n    canMouseX: null,\n    canMouseY: null,\n    workspaceSize : {x: 0, y: 0},\n    background: {\n      backgroundImageSize : {x: 0, y: 0},\n      backgroundImage : new Image(),\n      backgroundColor: '#000',\n      backgroundImageFile: null,\n      useColorOnly: true,\n    },\n    backgroundGraphic: {\n      drawBgGraphic: false,\n      backgroundGraphicImageSize : {x: 0, y: 0, scale: 100},\n      backgroundGraphicImagePosition : {x: 0, y: 0},\n      backgroundGraphicImage : new Image(),\n      backgroundGraphicOpacity: 1,\n      backgroundGraphicRotation: 0\n    },\n    foreground: {\n      foregroundImage: null,\n      foregroundImageSize: {\n        width: null,\n        height: null,\n        scale: 100\n      },\n      foregroundImagePosition: {\n        x: 0,\n        y: 0\n      },\n      foregroundImageFile: null,\n    },\n    foregroundGraphic: {\n      drawFgGraphic: false,\n      foregroundGraphicImageSize : {x: 0, y: 0, scale: 100},\n      foregroundGraphicImagePosition : {x: 0, y: 0},\n      foregroundGraphicImage : new Image(),\n      foregroundGraphicOpacity: 1,\n      foregroundGraphicRotation: 0\n    },\n  },\n\n  // other state\n  canvasOffset: null,\n\tcanvasContext : null,\n  hiResContext : null,\n  hiResScale : 4,\n  selectedLayer : 'background',\n  isDragging: false,\n\n  init(rootElem) {\n    var canvasElem = document.getElementById(\"app-canvas\");\n    this.canvasElem = canvasElem;\n    this.canvasContext = canvasElem.getContext('2d');\n    this.hiResCanvasElem = document.createElement(\"canvas\");\n    this.hiResContext = this.hiResCanvasElem.getContext('2d');\n    this.rootElem = rootElem;\n    this.svgElem = document.getElementById(\"svg-workspace\");\n\n    this.hiResCanvasElem.setAttribute(\"style\", \"position: absolute; top: 0; left: 0; display: none;\");\n    rootElem.appendChild(this.hiResCanvasElem);\n\n    QuickSettings.useExtStyleSheet();\n\n    this.fitCanvasToWindow();\n\n    // add mouse event listeners\n    this.canvasElem.addEventListener('mousedown', this.handleMouseDown.bind(this))\n    this.canvasElem.addEventListener('mouseup', this.handleMouseUp.bind(this));\n    this.canvasElem.addEventListener('mousemove', this.handleMouseMove.bind(this));\n    this.canvasElem.addEventListener('mouseout', this.handleMouseOut.bind(this));\n    \n    // inset panel here\n    MainPanel.init(rootElem, this.documentData);\n    MainPanel.documentData = this.documentData;\n    MainPanel.selectedLayer = this.selectedLayer;\n    MainPanel.updateCanvas = this.handleSelectLayer.bind(this);\n\t\tMainPanel.startDownload = this.startDownload.bind(this);\n\n    Background.handleChange = this.refreshCanvas.bind(this);\n    Foreground.handleChange = this.refreshCanvas.bind(this, this.canvasElem, this.canvasContext);\n    Graphic.handleChange = this.refreshCanvas.bind(this);\n\n    this.refreshCanvas()\n  },\n\n  fitCanvasToWindow() {\n    this.canvasElem.width = this.rootElem.clientWidth;\n    this.canvasElem.height = this.rootElem.clientHeight;\n\n    this.hiResCanvasElem.width = this.rootElem.clientWidth * this.hiResScale;\n    this.hiResCanvasElem.height = this.rootElem.clientHeight * this.hiResScale;\n\n    this.documentData.workspaceSize.x = this.canvasElem.width;\n    this.documentData.workspaceSize.y = this.canvasElem.height;\n\n    this.svgElem.setAttribute('width', this.canvasElem.width);\n    this.svgElem.setAttribute('height', this.canvasElem.height);\n\n    this.fitBackgroundToCanvas()\n  },\n  handleSelectLayer(info) {\n    this.selectedLayer = info;\n  },\n  fitBackgroundToCanvas() {\n    var imgWidth = this.documentData.background.backgroundImage.width;\n    var imgHeight = this.documentData.background.backgroundImage.height;\n    var canvasWidth = this.canvasElem.clientWidth;\n    var canvasHeight = this.canvasElem.clientHeight;\n    var finalWidth, finalHeight;\n    finalWidth = canvasWidth;\n    finalHeight = imgWidth !== 0 && imgHeight !== 0 ? (canvasWidth/imgWidth) * imgHeight : canvasHeight;\n\n    if (finalHeight > canvasHeight) {\n    finalHeight = canvasHeight;\n      finalWidth = (canvasHeight/imgHeight) * imgWidth;\n    }\n\n    this.documentData.background.backgroundImageSize.x = finalWidth;\n    this.documentData.background.backgroundImageSize.y = finalHeight;\n\n    this.canvasContext.fillStyle = this.documentData.background.backgroundColor || \"black\";\n    this.canvasContext.fillRect(0, 0, canvasWidth, canvasHeight);\n  },\n  changeColor() {\n    this.documentData.background.backgroundImage = new Image();\n    this.documentData.background.backgroundImageFile = null;\n    this.canvasContext.fillStyle = this.documentData.background.backgroundColor || \"black\";\n    this.canvasContext.fillRect(0, 0, this.documentData.workspaceSize.x, this.documentData.workspaceSize.y);\n    this.refreshCanvas(this.canvasElem, this.canvasContext);\n  },\n  drawBackground(canvas, context, resolution) {\n    var drawBgPromise = new Promise((resolve, reject) => {\n      var backgroundImageSize = Object.assign({},this.documentData.background.backgroundImageSize);\n      resolution = resolution || 1;\n      backgroundImageSize.x *= resolution;\n      backgroundImageSize.y *= resolution;\n      if (this.documentData.background.useColorOnly === true) {\n        context.fillStyle = this.documentData.background.backgroundColor || \"black\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        resolve();\n      } else if (this.documentData.background.backgroundImage.classList && this.documentData.background.backgroundImage.classList.contains('img-source')) {\n        context.drawImage(this.documentData.background.backgroundImage, 0, 0, backgroundImageSize.x, backgroundImageSize.y);\n        resolve();\n      } else if (this.documentData.background.backgroundImage.name !== '') {\n        // const ImageLoadPromise = new Promise((resolve, reject) => {\n          var reader = new FileReader();\n          var img;\n          var docData = this.documentData;\n          reader.onload = function(event){\n            docData.background.backgroundImageFile = event.target.result;\n            img = new Image();\n            img.onload = function(){\n              context.drawImage(img, 0, 0, backgroundImageSize.x, backgroundImageSize.y);\n              resolve(img);\n            }\n            img.src = event.target.result;\n          }\n          reader.readAsDataURL(this.documentData.background.backgroundImage);\n        // });\n        // ImageLoadPromise.then(img => {\n        //   this.drawForeground(canvas, context);\n        // })\n      } else if (this.documentData.background.backgroundImageFile !== null) {\n        var img;\n        img = new Image();\n        img.onload = function(){\n          context.drawImage(img, 0, 0, backgroundImageSize.x, backgroundImageSize.y);\n          resolve(img);\n        }\n        img.src = event.target.result;\n      } else {\n        console.log(this.documentData.background.backgroundImage)\n      }\n    });\n    drawBgPromise.then(() => {\n      console.log('done drawing bg');\n      if (this.documentData.backgroundGraphic.drawBgGraphic === true) {\n        console.log('drawBackgroundGraphic');\n        this.drawBackgroundGraphic(this.canvasElem, this.canvasContext);\n      } else {\n        console.log('drawForeground');\n        this.drawForeground(this.canvasElem, this.canvasContext);\n      }\n    })\n  },\n  drawForeground(canvas, context) {\n    var drawFgPromise = new Promise((resolve, reject) => {\n      var foregroundImageSize;\n      if (this.documentData.foreground.foregroundImage) {\n        console.log(this.documentData.foreground)\n        foregroundImageSize = Object.assign({}, {\n          x: this.documentData.foreground.foregroundImage.width,\n          y: this.documentData.foreground.foregroundImage.height\n        });\n        var scale = this.documentData.foreground.foregroundImageSize.scale || 100;\n        scale = scale/100;\n        foregroundImageSize.x = this.documentData.foreground.foregroundImage.width * scale;\n        foregroundImageSize.y = this.documentData.foreground.foregroundImage.height * scale;\n      }\n      \n      if (this.documentData.foreground.foregroundImage && this.documentData.foreground.foregroundImage.classList && \n        this.documentData.foreground.foregroundImage.classList.contains('img-source-fg')) {\n        this.documentData.foreground.foregroundImageFile = null;\n        context.drawImage(this.documentData.foreground.foregroundImage, this.documentData.foreground.foregroundImagePosition.x, this.documentData.foreground.foregroundImagePosition.y, foregroundImageSize.x, foregroundImageSize.y);\n        resolve();\n      } else if (this.documentData.foreground.foregroundImageFile !== null) {\n        console.log('handle draw file', this.documentData.foreground);\n        foregroundImageSize.x = this.documentData.foreground.foregroundImageSize.width * scale;\n        foregroundImageSize.y = this.documentData.foreground.foregroundImageSize.height * scale;\n        var img;\n        var docData = this.documentData;\n        img = new Image();\n        img.onload = function(){\n          context.drawImage(img, docData.foreground.foregroundImagePosition.x, docData.foreground.foregroundImagePosition.y, foregroundImageSize.x, foregroundImageSize.y);\n          resolve(img);\n        }\n        img.src = this.documentData.foreground.foregroundImageFile;\n      } else if (this.documentData.foreground.foregroundImage && this.documentData.foreground.foregroundImage.name !== '') {\n        console.log('file upload');\n        var reader = new FileReader();\n        var img;\n        var docData = this.documentData;\n        reader.onload = function(event){\n          docData.foreground.foregroundImageFile = event.target.result;\n          img = new Image();\n          img.onload = function(){\n            docData.foreground.foregroundImageSize.width = this.width;\n            docData.foreground.foregroundImageSize.height = this.height;\n            context.drawImage(img, docData.foreground.foregroundImagePosition.x, docData.foreground.foregroundImagePosition.y, docData.foreground.foregroundImageSize.width, docData.foreground.foregroundImageSize.height);\n            resolve(img);\n          }\n          img.src = event.target.result;\n        }\n        reader.readAsDataURL(this.documentData.foreground.foregroundImage);\n      } \n      resolve();\n    });\n    drawFgPromise.then((img) => {\n      if (this.documentData.foregroundGraphic.drawFgGraphic === true) {\n        this.drawForegroundGraphic(this.canvasElem, this.canvasContext);\n      }\n    })\n  },\n  refreshCanvas(canvas, context, resolution) {\n    context = context || this.canvasContext;\n    canvas = canvas || this.canvasElem;\n    resolution = resolution || 1;\n    var backgroundImageSize = this.documentData.background.backgroundImageSize;\n    this.drawBackground(canvas, context, resolution);\n  },\n  drawBackgroundGraphic(canvas, context) {\n    var scale = this.documentData.backgroundGraphic.backgroundGraphicImageSize.scale / 100;\n    var backgroundGraphicWidth = this.documentData.backgroundGraphic.backgroundGraphicImageSize.x * scale;\n    var backgroundGraphicHeight = this.documentData.backgroundGraphic.backgroundGraphicImageSize.y * scale;\n    if (this.documentData.backgroundGraphic.backgroundGraphicRotation !== 0) {\n      // store width and height for easier translation\n      var width = backgroundGraphicWidth;\n      var height = backgroundGraphicHeight;\n      context.save(); // save current state\n      // check if opacity is also set\n      if (this.documentData.backgroundGraphic.backgroundGraphicOpacity !== 1) {\n        context.globalAlpha = this.documentData.backgroundGraphic.backgroundGraphicOpacity;\n      }\n      context.translate(width/2,height/2);\n      context.rotate(this.convertToRadians(this.documentData.backgroundGraphic.backgroundGraphicRotation));\n      context.translate((width/-2),height/-2); \n\n      context.drawImage(this.documentData.backgroundGraphic.backgroundGraphicImage, this.documentData.backgroundGraphic.backgroundGraphicImagePosition.x, this.documentData.backgroundGraphic.backgroundGraphicImagePosition.y, backgroundGraphicWidth, backgroundGraphicHeight);\n      context.restore();\n    } else if (this.documentData.backgroundGraphic.backgroundGraphicOpacity !== 1) {\n      // only opacity is set\n      context.save();\n      context.globalAlpha = this.documentData.backgroundGraphic.backgroundGraphicOpacity;\n      context.drawImage(this.documentData.backgroundGraphic.backgroundGraphicImage, this.documentData.backgroundGraphic.backgroundGraphicImagePosition.x, this.documentData.backgroundGraphic.backgroundGraphicImagePosition.y, backgroundGraphicWidth, backgroundGraphicHeight);\n      context.restore();\n    } else {\n      // no opacity change or rotation\n      context.drawImage(this.documentData.backgroundGraphic.backgroundGraphicImage, this.documentData.backgroundGraphic.backgroundGraphicImagePosition.x, this.documentData.backgroundGraphic.backgroundGraphicImagePosition.y, backgroundGraphicWidth, backgroundGraphicHeight);\n    }\n    this.drawForeground(canvas, context);\n  },\n  drawForegroundGraphic(canvas, context) {\n    var scale = this.documentData.foregroundGraphic.foregroundGraphicImageSize.scale / 100;\n    var foregroundGraphicWidth = this.documentData.foregroundGraphic.foregroundGraphicImageSize.x * scale;\n    var foregroundGraphicHeight = this.documentData.foregroundGraphic.foregroundGraphicImageSize.y * scale;\n    if (this.documentData.foregroundGraphic.foregroundGraphicRotation !== 0) {\n      // store width and height for easier translation\n      var width = foregroundGraphicWidth;\n      var height = foregroundGraphicHeight;\n      context.save(); // save current state\n      // check if opacity is also set\n      if (this.documentData.foregroundGraphic.foregroundGraphicOpacity !== 1) {\n        context.globalAlpha = this.documentData.foregroundGraphic.foregroundGraphicOpacity;\n      }\n      context.translate(width/2,height/2);\n      context.rotate(this.convertToRadians(this.documentData.foregroundGraphic.foregroundGraphicRotation));\n      context.translate((width/-2),height/-2); \n\n      context.drawImage(this.documentData.foregroundGraphic.foregroundGraphicImage, this.documentData.foregroundGraphic.foregroundGraphicImagePosition.x, this.documentData.foregroundGraphic.foregroundGraphicImagePosition.y, foregroundGraphicWidth, foregroundGraphicHeight);\n      context.restore();\n    } else if (this.documentData.foregroundGraphic.foregroundGraphicOpacity !== 1) {\n      context.save();\n      context.globalAlpha = this.documentData.foregroundGraphic.foregroundGraphicOpacity;\n      context.drawImage(this.documentData.foregroundGraphic.foregroundGraphicImage, this.documentData.foregroundGraphic.foregroundGraphicImagePosition.x, this.documentData.foregroundGraphic.foregroundGraphicImagePosition.y, foregroundGraphicWidth, foregroundGraphicHeight);\n      context.restore();\n    } else {\n      // no opacity change\n      context.drawImage(this.documentData.foregroundGraphic.foregroundGraphicImage, this.documentData.foregroundGraphic.foregroundGraphicImagePosition.x, this.documentData.foregroundGraphic.foregroundGraphicImagePosition.y, foregroundGraphicWidth, foregroundGraphicHeight);\n    }\n  },\n  handleMouseDown(e) {\n    this.documentData.canMouseX = event.clientX;\n    this.documentData.canMouseY = event.clientY;\n    switch (this.selectedLayer) {\n      case 'foreground':\n        this.documentData.foreground.startingPosition = {\n          x: this.documentData.foreground.foregroundImagePosition.x,\n          y: this.documentData.foreground.foregroundImagePosition.y\n        };\n        break;\n      case 'fg-graphic':\n        this.documentData.foregroundGraphic.startingPosition = {\n          x: this.documentData.foregroundGraphic.foregroundGraphicImagePosition.x,\n          y: this.documentData.foregroundGraphic.foregroundGraphicImagePosition.y\n        };\n        break;\n      case 'bg-graphic':\n        this.documentData.backgroundGraphic.startingPosition = {\n          x: this.documentData.backgroundGraphic.backgroundGraphicImagePosition.x,\n          y: this.documentData.backgroundGraphic.backgroundGraphicImagePosition.y\n        };\n        break;\n      default:\n        break;\n    }\n    this.isDragging = true;\n  },\n  handleMouseUp(e) {\n    this.documentData.canMouseX = null;\n    this.documentData.canMouseY = null;\n    this.isDragging = false;\n  },\n  handleMouseMove(e) {\n    if (this.isDragging) {\n      // find selectedLayer and act accordingly\n      switch (this.selectedLayer) {\n        case 'foreground':\n          var deltaX = this.documentData.foreground.foregroundImagePosition.x + this.documentData.canMouseX;\n          var deltaY = this.documentData.foreground.foregroundImagePosition.y + this.documentData.canMouseY;\n          this.documentData.foreground.foregroundImagePosition.x = e.clientX - this.documentData.canMouseX + this.documentData.foreground.startingPosition.x;\n          this.documentData.foreground.foregroundImagePosition.y = e.clientY - this.documentData.canMouseY + this.documentData.foreground.startingPosition.y;\n          console.log(e.clientX - this.documentData.canMouseX, e.clientY - this.documentData.canMouseY)\n          this.refreshCanvas(this.canvasElem, this.canvasContext);\n          break;\n        case 'bg-graphic':\n          var deltaX = this.documentData.backgroundGraphic.backgroundGraphicImagePosition.x + this.documentData.canMouseX;\n          var deltaY = this.documentData.backgroundGraphic.backgroundGraphicImagePosition.y + this.documentData.canMouseY;\n          this.documentData.backgroundGraphic.backgroundGraphicImagePosition.x = e.clientX - this.documentData.canMouseX + this.documentData.backgroundGraphic.startingPosition.x;\n          this.documentData.backgroundGraphic.backgroundGraphicImagePosition.y = e.clientY - this.documentData.canMouseY + this.documentData.backgroundGraphic.startingPosition.y;\n          this.refreshCanvas(this.canvasElem, this.canvasContext);\n          break;\n        case 'fg-graphic':\n          var deltaX = this.documentData.foregroundGraphic.foregroundGraphicImagePosition.x + this.documentData.canMouseX;\n          var deltaY = this.documentData.foregroundGraphic.foregroundGraphicImagePosition.y + this.documentData.canMouseY;\n          this.documentData.foregroundGraphic.foregroundGraphicImagePosition.x = e.clientX - this.documentData.canMouseX + this.documentData.foregroundGraphic.startingPosition.x;\n          this.documentData.foregroundGraphic.foregroundGraphicImagePosition.y = e.clientY - this.documentData.canMouseY + this.documentData.foregroundGraphic.startingPosition.y;\n          this.refreshCanvas(this.canvasElem, this.canvasContext);\n          break;\n        default:\n          break;\n      }\n    }\n  },\n  handleMouseOut(e) {\n    this.isDragging = false;\n  },\n  startDownload() {\n    // test downloadjs\n    // download(\"hello world\", \"dlText.txt\", \"text/plain\");\n    download(this.canvasElem.toDataURL('image/png'),`${this.fileBaseName}${Date.now()}.png`,'image/png');\n  },\n  convertToRadians(degree) {\n    // 15deg = pi/12\n    var a = degree / 15;\n    var radianValue = a * (Math.PI/12);\n    return radianValue;\n  }\n}\n\nexport default App;\n","import App from './app';\n\nvar didInit = false;\n\nfunction init() {\n    if (!didInit) {\n        var rootElem = document.getElementById(\"app-root\")\n        App.init(rootElem);\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', init);\n","import _ from 'lodash';\n\nimport brandedColors from './watson-colors';\n\n// ick. this is kinda messy internally.\n// should probably have a load step that processes the swatch data\n// rather than constantly having to order things by name on the fly\n\nexport default {\n\t_swatchCollection : brandedColors,\n\t\n\tgetDefaultSwatchGroup() {\n\t\treturn this.getSwatchGroupByName(this.getSwatchGroupNames()[0]);\n\t},\n\n\tgetDefaultColor() {\n\t\tvar defaultGroupName = this.getDefaultSwatchGroup().name;\n\t\t// return this.getSwatchValue(defaultGroupName, this.getSwatchNamesFor(defaultGroupName)[0]);\n\t\treturn this.getSwatchesFor(defaultGroupName)[0].color;\n\t},\n\n\tgetSwatchGroupByName(groupName) {\n\t\treturn _.find(this._swatchCollection, function(swatchGroup) {\n\t\t\treturn swatchGroup.name == groupName;\n\t\t});\n\t},\n\n\tgetSwatchGroupNames() {\n\t\treturn _.map(this._swatchCollection, function(swatchGroup) {\n\t    \treturn swatchGroup.name;\n\t    }).sort();\n\t},\n\tgetSwatchNamesFor(swatchGroupName) {\n\t\treturn _.map(this.getSwatchesFor(swatchGroupName), function(swatch) {\n\t\t\treturn swatch.name;\n\t\t}).sort();\n\t},\n\tgetSwatchesFor(swatchGroupName) {\n\t\treturn this.getSwatchGroupByName(swatchGroupName).swatches;\n\t},\n\tgetSwatchValue(swatchGroupName, swatchName) {\n\t\treturn _.find(this.getSwatchesFor(swatchGroupName), function(swatch) {\n\t\t\treturn swatch.name == swatchName;\n\t\t}).color;\n\t},\n};\n","import _ from 'lodash';\n\nexport default {\n\tcreateButton(name, className, action) {\n\t\tvar button = document.createElement(\"button\");\n\t\tbutton.innerText = name;\n\t\tbutton.className = \"qs_button \" + className;\n\t\tbutton.onclick = action;\n\t\treturn button;\n\t},\n\tcreateButtonGroup(buttonElems, className) {\n\t\tvar groupDiv = document.createElement(\"div\");\n\t\tgroupDiv.className = className;\n\t\t_.each(buttonElems, function(button){\n\t\t\tgroupDiv.appendChild(button);\n\t\t});\n\t\treturn groupDiv;\n\t},\n\tsetButtonEnabled(buttonElem, enabled) {\n\t\tif (enabled) {\n\t\t\tbuttonElem.removeAttribute('disabled');\n\t\t\tbuttonElem.classList.remove('disabled');\n\t\t} else {\n\t\t\tbuttonElem.setAttribute('disabled', true);\n\t\t\tbuttonElem.classList.add('disabled');\n\t\t}\n\t},\n\tcreateSwatchPicker(swatches, clickHandler) {\n\t\tvar container = document.createElement(\"div\");\n\t\tcontainer.className = \"swatch-picker\";\n\n\t\t_.each(swatches, function(swatch) {\n\t\t\tvar swatchElem = document.createElement(\"div\");\n\t\t\tswatchElem.className = \"color-swatch\";\n\t\t\tswatchElem.setAttribute(\"style\", \"background-color: \" + swatch.color);\n\t\t\tswatchElem.setAttribute(\"data-swatch\", swatch.color);\n\t\t\tswatchElem.onclick = function(e) {\n\t\t\t\tclickHandler(swatch, swatchElem);\n\t\t\t};\n\t\t\tcontainer.appendChild(swatchElem);\n\t\t});\n\t\treturn container;\n\t},\n\taddSwatchHighlightByIndex(swatchpicker, index) {\n\t\tif (swatchpicker.children.length > 0) {\n\t\t\tthis.addSwatchHighlight(swatchpicker.children[0]);\n\t\t}\n\t},\n\taddSwatchHighlight(swatchElem) {\n\t\tswatchElem.classList.add(\"selected\");\n\t},\n\tremoveSwatchHighlight(swatchElem) {\n\t\tswatchElem.classList.remove(\"selected\");\n\t},\n\taddCustomTitle(qsPanel, title, refName) {\n\t\t// it was important for the design to remove the separator\n\t\t// and treat titles consistently.\n\t\t// this is a way of achieving that.\n\t\trefName = refName || title + \"_title\";\n\t\tvar div = document.createElement(\"div\");\n\t\tdiv.className = \"custom-title\";\n\t\tdiv.innerText = title;\n\t\tqsPanel.addElement(refName, div);\n\t\tqsPanel.hideTitle(refName);\n\t\treturn refName;\n\t},\n}\n","export default [\n    {\n        \"swatches\": [\n            {\n                \"name\": \"Purple 10\",\n                \"color\": \"#eed2ff\"\n            },\n            {\n                \"name\": \"Purple 20\",\n                \"color\": \"#d7aaff\"\n            },\n            {\n                \"name\": \"Purple 30\",\n                \"color\": \"#ba8ff7\"\n            },\n            {\n                \"name\": \"Purple 40\",\n                \"color\": \"#af6ee8\"\n            },\n            {\n                \"name\": \"Purple 50\",\n                \"color\": \"#9855d4\"\n            },\n            {\n                \"name\": \"Purple 60\",\n                \"color\": \"#734098\"\n            },\n            {\n                \"name\": \"Purple 70\",\n                \"color\": \"#562f72\"\n            },\n            {\n                \"name\": \"Purple 80\",\n                \"color\": \"#412356\"\n            },\n            {\n                \"name\": \"Purple 90\",\n                \"color\": \"#311a41\"\n            },\n            {\n                \"name\": \"R=1 G=1 B=3\",\n                \"color\": \"#010103\"\n            },\n            {\n                \"name\": \"Teal 10\",\n                \"color\": \"#a7fae6\"\n            },\n            {\n                \"name\": \"Teal 20\",\n                \"color\": \"#6eedd8\"\n            },\n            {\n                \"name\": \"Teal 30\",\n                \"color\": \"#41d6c3\"\n            },\n            {\n                \"name\": \"Teal 40\",\n                \"color\": \"#00b4a0\"\n            },\n            {\n                \"name\": \"Teal 50\",\n                \"color\": \"#008571\"\n            },\n            {\n                \"name\": \"Teal 60\",\n                \"color\": \"#006d5d\"\n            },\n            {\n                \"name\": \"Teal 70\",\n                \"color\": \"#005448\"\n            },\n            {\n                \"name\": \"Teal 80\",\n                \"color\": \"#003c32\"\n            },\n            {\n                \"name\": \"Teal 90\",\n                \"color\": \"#012b22\"\n            },\n            {\n                \"name\": \"R=0 G=2 B=2\",\n                \"color\": \"#000202\"\n            },\n            {\n                \"name\": \"White\",\n                \"color\": \"#ffffff\"\n            },\n            {\n                \"name\": \"White 2\",\n                \"color\": \"#f9f9f9\"\n            },\n            {\n                \"name\": \"White 3\",\n                \"color\": \"#f4f4f4\"\n            },\n            {\n                \"name\": \"White 4\",\n                \"color\": \"#ececec\"\n            },\n            {\n                \"name\": \"Grey 10\",\n                \"color\": \"#e0e0e0\"\n            },\n            {\n                \"name\": \"Grey 20\",\n                \"color\": \"#c7c7c7\"\n            },\n            {\n                \"name\": \"Grey 30\",\n                \"color\": \"#aeaeae\"\n            },\n            {\n                \"name\": \"Grey 40\",\n                \"color\": \"#959595\"\n            },\n            {\n                \"name\": \"Grey 50\",\n                \"color\": \"#777677\"\n            },\n            {\n                \"name\": \"Grey 60\",\n                \"color\": \"#5a5a5a\"\n            },\n            {\n                \"name\": \"Grey 70\",\n                \"color\": \"#464646\"\n            },\n            {\n                \"name\": \"Grey 80\",\n                \"color\": \"#323232\"\n            },\n            {\n                \"name\": \"Grey 90\",\n                \"color\": \"#1e1e1e\"\n            },\n            {\n                \"name\": \"Grey 100\",\n                \"color\": \"#000000\"\n            },\n            {\n                \"name\": \"Grey 100 copy\",\n                \"color\": \"#000000\"\n            }\n        ],\n        \"name\": \"Purple-Teal\"\n    },\n    {\n        \"swatches\": [\n            {\n                \"color\": \"#eed2ff\",\n                \"name\": \"Purple 10\"\n            },\n            {\n                \"color\": \"#d7aaff\",\n                \"name\": \"Purple 20\"\n            },\n            {\n                \"color\": \"#ba8ff7\",\n                \"name\": \"Purple 30\"\n            },\n            {\n                \"color\": \"#af6ee8\",\n                \"name\": \"Purple 40\"\n            },\n            {\n                \"color\": \"#9855d4\",\n                \"name\": \"Purple 50\"\n            },\n            {\n                \"color\": \"#734098\",\n                \"name\": \"Purple 60\"\n            },\n            {\n                \"color\": \"#562f72\",\n                \"name\": \"Purple 70\"\n            },\n            {\n                \"color\": \"#412356\",\n                \"name\": \"Purple 80\"\n            },\n            {\n                \"color\": \"#311a41\",\n                \"name\": \"Purple 90\"\n            },\n            {\n                \"color\": \"#010103\",\n                \"name\": \"R=1 G=1 B=3\"\n            },\n            {\n                \"color\": \"#c0e6ff\",\n                \"name\": \"Blue 10\"\n            },\n            {\n                \"color\": \"#7cc7ff\",\n                \"name\": \"Blue 20\"\n            },\n            {\n                \"color\": \"#5aaafa\",\n                \"name\": \"Blue 30\"\n            },\n            {\n                \"color\": \"#5596e6\",\n                \"name\": \"Blue 40\"\n            },\n            {\n                \"color\": \"#4178be\",\n                \"name\": \"Blue 50\"\n            },\n            {\n                \"color\": \"#325c80\",\n                \"name\": \"Blue 60\"\n            },\n            {\n                \"color\": \"#264a60\",\n                \"name\": \"Blue 70\"\n            },\n            {\n                \"color\": \"#1d3649\",\n                \"name\": \"Blue 80\"\n            },\n            {\n                \"color\": \"#152935\",\n                \"name\": \"Blue 90\"\n            },\n            {\n                \"color\": \"#010205\",\n                \"name\": \"R=1 G=2 B=5\"\n            },\n            {\n                \"color\": \"#ffffff\",\n                \"name\": \"White\"\n            },\n            {\n                \"color\": \"#f9f9f9\",\n                \"name\": \"White 2\"\n            },\n            {\n                \"color\": \"#f4f4f4\",\n                \"name\": \"White 3\"\n            },\n            {\n                \"color\": \"#ececec\",\n                \"name\": \"White 4\"\n            },\n            {\n                \"color\": \"#e0e0e0\",\n                \"name\": \"Grey 10\"\n            },\n            {\n                \"color\": \"#c7c7c7\",\n                \"name\": \"Grey 20\"\n            },\n            {\n                \"color\": \"#aeaeae\",\n                \"name\": \"Grey 30\"\n            },\n            {\n                \"color\": \"#959595\",\n                \"name\": \"Grey 40\"\n            },\n            {\n                \"color\": \"#777677\",\n                \"name\": \"Grey 50\"\n            },\n            {\n                \"color\": \"#5a5a5a\",\n                \"name\": \"Grey 60\"\n            },\n            {\n                \"color\": \"#464646\",\n                \"name\": \"Grey 70\"\n            },\n            {\n                \"color\": \"#323232\",\n                \"name\": \"Grey 80\"\n            },\n            {\n                \"color\": \"#1e1e1e\",\n                \"name\": \"Grey 90\"\n            },\n            {\n                \"color\": \"#000000\",\n                \"name\": \"Grey 100\"\n            },\n            {\n                \"color\": \"#000000\",\n                \"name\": \"Grey 100 copy\"\n            }\n        ],\n        \"name\": \"Purple-Blue\"\n    },\n    {\n        \"swatches\": [\n            {\n                \"name\": \"Green 10\",\n                \"color\": \"#c8f08f\"\n            },\n            {\n                \"name\": \"Green 20\",\n                \"color\": \"#b4e051\"\n            },\n            {\n                \"name\": \"Green 30\",\n                \"color\": \"#8cd211\"\n            },\n            {\n                \"name\": \"Green 40\",\n                \"color\": \"#5aa700\"\n            },\n            {\n                \"name\": \"Green 50\",\n                \"color\": \"#4b8400\"\n            },\n            {\n                \"name\": \"Green 60\",\n                \"color\": \"#2d660a\"\n            },\n            {\n                \"name\": \"Green 70\",\n                \"color\": \"#144d14\"\n            },\n            {\n                \"name\": \"Green 80\",\n                \"color\": \"#0a3c02\"\n            },\n            {\n                \"name\": \"Green 90\",\n                \"color\": \"#0c2808\"\n            },\n            {\n                \"name\": \"R=1 G=2 B=0\",\n                \"color\": \"#010200\"\n            },\n            {\n                \"name\": \"Teal 10\",\n                \"color\": \"#a7fae6\"\n            },\n            {\n                \"name\": \"Teal 20\",\n                \"color\": \"#6eedd8\"\n            },\n            {\n                \"name\": \"Teal 30\",\n                \"color\": \"#41d6c3\"\n            },\n            {\n                \"name\": \"Teal 40\",\n                \"color\": \"#00b4a0\"\n            },\n            {\n                \"name\": \"Teal 50\",\n                \"color\": \"#008571\"\n            },\n            {\n                \"name\": \"Teal 60\",\n                \"color\": \"#006d5d\"\n            },\n            {\n                \"name\": \"Teal 70\",\n                \"color\": \"#005448\"\n            },\n            {\n                \"name\": \"Teal 80\",\n                \"color\": \"#003c32\"\n            },\n            {\n                \"name\": \"Teal 90\",\n                \"color\": \"#012b22\"\n            },\n            {\n                \"name\": \"R=0 G=2 B=2\",\n                \"color\": \"#000202\"\n            },\n            {\n                \"name\": \"White\",\n                \"color\": \"#ffffff\"\n            },\n            {\n                \"name\": \"White 2\",\n                \"color\": \"#f9f9f9\"\n            },\n            {\n                \"name\": \"White 3\",\n                \"color\": \"#f4f4f4\"\n            },\n            {\n                \"name\": \"White 4\",\n                \"color\": \"#ececec\"\n            },\n            {\n                \"name\": \"Grey 10\",\n                \"color\": \"#e0e0e0\"\n            },\n            {\n                \"name\": \"Grey 20\",\n                \"color\": \"#c7c7c7\"\n            },\n            {\n                \"name\": \"Grey 30\",\n                \"color\": \"#aeaeae\"\n            },\n            {\n                \"name\": \"Grey 40\",\n                \"color\": \"#959595\"\n            },\n            {\n                \"name\": \"Grey 50\",\n                \"color\": \"#777677\"\n            },\n            {\n                \"name\": \"Grey 60\",\n                \"color\": \"#5a5a5a\"\n            },\n            {\n                \"name\": \"Grey 70\",\n                \"color\": \"#464646\"\n            },\n            {\n                \"name\": \"Grey 80\",\n                \"color\": \"#323232\"\n            },\n            {\n                \"name\": \"Grey 90\",\n                \"color\": \"#1e1e1e\"\n            },\n            {\n                \"name\": \"Grey 100\",\n                \"color\": \"#000000\"\n            },\n            {\n                \"name\": \"Grey 100 copy\",\n                \"color\": \"#000000\"\n            }\n        ],\n        \"name\": \"Green-Teal\"\n    },\n    {\n        \"swatches\": [\n            {\n                \"color\": \"#c0e6ff\",\n                \"name\": \"Blue 10\"\n            },\n            {\n                \"color\": \"#7cc7ff\",\n                \"name\": \"Blue 20\"\n            },\n            {\n                \"color\": \"#5aaafa\",\n                \"name\": \"Blue 30\"\n            },\n            {\n                \"color\": \"#5596e6\",\n                \"name\": \"Blue 40\"\n            },\n            {\n                \"color\": \"#4178be\",\n                \"name\": \"Blue 50\"\n            },\n            {\n                \"color\": \"#325c80\",\n                \"name\": \"Blue 60\"\n            },\n            {\n                \"color\": \"#264a60\",\n                \"name\": \"Blue 70\"\n            },\n            {\n                \"color\": \"#1d3649\",\n                \"name\": \"Blue 80\"\n            },\n            {\n                \"color\": \"#152935\",\n                \"name\": \"Blue 90\"\n            },\n            {\n                \"color\": \"#010205\",\n                \"name\": \"R=1 G=2 B=5\"\n            },\n            {\n                \"color\": \"#a7fae6\",\n                \"name\": \"Teal 10\"\n            },\n            {\n                \"color\": \"#6eedd8\",\n                \"name\": \"Teal 20\"\n            },\n            {\n                \"color\": \"#41d6c3\",\n                \"name\": \"Teal 30\"\n            },\n            {\n                \"color\": \"#00b4a0\",\n                \"name\": \"Teal 40\"\n            },\n            {\n                \"color\": \"#008571\",\n                \"name\": \"Teal 50\"\n            },\n            {\n                \"color\": \"#006d5d\",\n                \"name\": \"Teal 60\"\n            },\n            {\n                \"color\": \"#005448\",\n                \"name\": \"Teal 70\"\n            },\n            {\n                \"color\": \"#003c32\",\n                \"name\": \"Teal 80\"\n            },\n            {\n                \"color\": \"#012b22\",\n                \"name\": \"Teal 90\"\n            },\n            {\n                \"color\": \"#000202\",\n                \"name\": \"R=0 G=2 B=2\"\n            },\n            {\n                \"color\": \"#ffffff\",\n                \"name\": \"White\"\n            },\n            {\n                \"color\": \"#f9f9f9\",\n                \"name\": \"White 2\"\n            },\n            {\n                \"color\": \"#f4f4f4\",\n                \"name\": \"White 3\"\n            },\n            {\n                \"color\": \"#ececec\",\n                \"name\": \"White 4\"\n            },\n            {\n                \"color\": \"#e0e0e0\",\n                \"name\": \"Grey 10\"\n            },\n            {\n                \"color\": \"#c7c7c7\",\n                \"name\": \"Grey 20\"\n            },\n            {\n                \"color\": \"#aeaeae\",\n                \"name\": \"Grey 30\"\n            },\n            {\n                \"color\": \"#959595\",\n                \"name\": \"Grey 40\"\n            },\n            {\n                \"color\": \"#777677\",\n                \"name\": \"Grey 50\"\n            },\n            {\n                \"color\": \"#5a5a5a\",\n                \"name\": \"Grey 60\"\n            },\n            {\n                \"color\": \"#464646\",\n                \"name\": \"Grey 70\"\n            },\n            {\n                \"color\": \"#323232\",\n                \"name\": \"Grey 80\"\n            },\n            {\n                \"color\": \"#1e1e1e\",\n                \"name\": \"Grey 90\"\n            },\n            {\n                \"color\": \"#000000\",\n                \"name\": \"Grey 100\"\n            },\n            {\n                \"color\": \"#000000\",\n                \"name\": \"Grey 100 copy\"\n            }\n        ],\n        \"name\": \"Blue-Teal\"\n    }\n]\n"]}